using static Sokol.SG;
using static Sokol.SG.sg_backend;
using static Sokol.SG.sg_shader_stage;
using static Sokol.SG.sg_uniform_type;
using static Sokol.SG.sg_uniform_layout;
using static Sokol.SG.sg_image_type;
using static Sokol.SG.sg_sampler_type;
using static Sokol.SG.sg_image_sample_type;
using static Sokol.SG.sg_shader_attr_base_type;
using System.Numerics;
using System.Runtime.InteropServices;


using hmm_vec2=System.Numerics.Vector2;
using hmm_vec3=System.Numerics.Vector3;
using hmm_vec4=System.Numerics.Vector4;
using hmm_mat4=System.Numerics.Matrix4x4;


using vec2_t=System.Numerics.Vector2;
using vec3_t=System.Numerics.Vector3;
using vec4_t=System.Numerics.Vector4;
using mat44_t=System.Numerics.Matrix4x4;


namespace computeboids_sapp_shader_cs {

public static unsafe class Shaders 
{
    /*
        #version:1# (machine generated, don't edit!)

        Generated by sokol-shdc (https://github.com/floooh/sokol-tools)

        Cmdline:
            sokol-shdc --input shaders/computeboids-sapp.glsl --output shaders/compiled/osx/computeboids-sapp-shader.cs --slang metal_macos -f sokol_csharp

        Overview:
        =========
        Shader program: 'compute':
            Get shader desc: compute_shader_desc(sg_query_backend());
            Compute Shader: cs
        Shader program: 'display':
            Get shader desc: display_shader_desc(sg_query_backend());
            Vertex Shader: vs
            Fragment Shader: fs
            Attributes:
        Bindings:
            Uniform block 'sim_params':
                C struct: sim_params_t
                Bind slot: UB_sim_params => 0
            Storage buffer 'cs_ssbo_in':
                C struct: particle_t
                Bind slot: VIEW_cs_ssbo_in => 0
                Readonly: true
            Storage buffer 'cs_ssbo_out':
                C struct: particle_t
                Bind slot: VIEW_cs_ssbo_out => 1
                Readonly: false
            Storage buffer 'vs_ssbo':
                C struct: particle_t
                Bind slot: VIEW_vs_ssbo => 0
                Readonly: true
    */
    public const int UB_sim_params = 0;
    public const int VIEW_cs_ssbo_in = 0;
    public const int VIEW_cs_ssbo_out = 1;
    public const int VIEW_vs_ssbo = 0;
    
[StructLayout(LayoutKind.Sequential)]
    public struct sim_params_t {
        public sim_params_t(){}
        public float dt;
        public float rule1_distance;
        public float rule2_distance;
        public float rule3_distance;
        public float rule1_scale;
        public float rule2_scale;
        public float rule3_scale;
        public int num_particles;
    };
    struct particle_t {
        fixed float pos[2];
        fixed float vel[2];
    } ;
    /*
        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct sim_params
        {
            float dt;
            float rule1_distance;
            float rule2_distance;
            float rule3_distance;
            float rule1_scale;
            float rule2_scale;
            float rule3_scale;
            int num_particles;
        };

        struct particle
        {
            float2 pos;
            float2 vel;
        };

        struct cs_ssbo_in
        {
            particle prt_in[1];
        };

        struct cs_ssbo_out
        {
            particle prt_out[1];
        };

        constant uint3 gl_WorkGroupSize [[maybe_unused]] = uint3(64u, 1u, 1u);

        kernel void main0(constant sim_params& _21 [[buffer(0)]], const device cs_ssbo_in& _39 [[buffer(8)]], device cs_ssbo_out& _210 [[buffer(9)]], uint3 gl_GlobalInvocationID [[thread_position_in_grid]])
        {
            if (gl_GlobalInvocationID.x >= uint(_21.num_particles))
            {
                return;
            }
            float2 v_pos = _39.prt_in[gl_GlobalInvocationID.x].pos;
            float2 v_vel = _39.prt_in[gl_GlobalInvocationID.x].vel;
            float2 c_mass = float2(0.0);
            float2 c_vel = float2(0.0);
            float2 col_vel = float2(0.0);
            int c_mass_count = 0;
            int c_vel_count = 0;
            for (int i = 0; i < _21.num_particles; i++)
            {
                if (uint(i) == gl_GlobalInvocationID.x)
                {
                    continue;
                }
                float _87 = distance(_39.prt_in[i].pos, v_pos);
                if (_87 < _21.rule1_distance)
                {
                    c_mass += _39.prt_in[i].pos;
                    c_mass_count++;
                }
                if (_87 < _21.rule2_distance)
                {
                    col_vel -= (_39.prt_in[i].pos - v_pos);
                }
                if (_87 < _21.rule3_distance)
                {
                    c_vel += _39.prt_in[i].vel;
                    c_vel_count++;
                }
            }
            if (c_mass_count > 0)
            {
                c_mass = (c_mass / float2(float(c_mass_count))) - v_pos;
            }
            if (c_vel_count > 0)
            {
                c_vel /= float2(float(c_vel_count));
            }
            float2 _163 = v_vel;
            float2 _164 = _163 + (((c_mass * _21.rule1_scale) + (col_vel * _21.rule2_scale)) + (c_vel * _21.rule3_scale));
            float2 _171 = fast::normalize(_164) * fast::clamp(length(_164), 0.0, 0.100000001490116119384765625);
            v_vel = _171;
            float2 _176 = v_pos;
            float2 _177 = _176 + (_171 * _21.dt);
            v_pos = _177;
            if (_177.x < (-1.0))
            {
                float2 _220 = v_pos;
                _220.x = 1.0;
                v_pos = _220;
            }
            else
            {
                if (v_pos.x > 1.0)
                {
                    float2 _223 = v_pos;
                    _223.x = -1.0;
                    v_pos = _223;
                }
            }
            if (v_pos.y < (-1.0))
            {
                float2 _226 = v_pos;
                _226.y = 1.0;
                v_pos = _226;
            }
            else
            {
                if (v_pos.y > 1.0)
                {
                    float2 _229 = v_pos;
                    _229.y = -1.0;
                    v_pos = _229;
                }
            }
            _210.prt_out[gl_GlobalInvocationID.x].pos = v_pos;
            _210.prt_out[gl_GlobalInvocationID.x].vel = v_vel;
        }

    */
    static readonly byte[] cs_source_metal_macos = {
            0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    
            0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    
            0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    
            0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    
            0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x73,    
            0x69,    0x6d,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x64,    0x74,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x20,    0x72,    0x75,    0x6c,    0x65,    0x31,    0x5f,    0x64,    0x69,    0x73,    0x74,    0x61,    0x6e,    
            0x63,    0x65,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x72,    0x75,    
            0x6c,    0x65,    0x32,    0x5f,    0x64,    0x69,    0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    0x3b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x72,    0x75,    0x6c,    0x65,    0x33,    0x5f,    0x64,    0x69,    
            0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x20,    0x72,    0x75,    0x6c,    0x65,    0x31,    0x5f,    0x73,    0x63,    0x61,    0x6c,    0x65,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x72,    0x75,    0x6c,    0x65,    0x32,    0x5f,    0x73,    
            0x63,    0x61,    0x6c,    0x65,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    
            0x72,    0x75,    0x6c,    0x65,    0x33,    0x5f,    0x73,    0x63,    0x61,    0x6c,    0x65,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x69,    0x6e,    0x74,    0x20,    0x6e,    0x75,    0x6d,    0x5f,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    
            0x65,    0x73,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x70,    
            0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x32,    0x20,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x32,    0x20,    0x76,    0x65,    0x6c,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    
            0x72,    0x75,    0x63,    0x74,    0x20,    0x63,    0x73,    0x5f,    0x73,    0x73,    0x62,    0x6f,    0x5f,    0x69,    0x6e,    0x0a,    
            0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    0x20,    0x70,    
            0x72,    0x74,    0x5f,    0x69,    0x6e,    0x5b,    0x31,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    
            0x72,    0x75,    0x63,    0x74,    0x20,    0x63,    0x73,    0x5f,    0x73,    0x73,    0x62,    0x6f,    0x5f,    0x6f,    0x75,    0x74,    
            0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    0x20,    
            0x70,    0x72,    0x74,    0x5f,    0x6f,    0x75,    0x74,    0x5b,    0x31,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    
            0x63,    0x6f,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x74,    0x20,    0x75,    0x69,    0x6e,    0x74,    0x33,    0x20,    0x67,    
            0x6c,    0x5f,    0x57,    0x6f,    0x72,    0x6b,    0x47,    0x72,    0x6f,    0x75,    0x70,    0x53,    0x69,    0x7a,    0x65,    0x20,    
            0x5b,    0x5b,    0x6d,    0x61,    0x79,    0x62,    0x65,    0x5f,    0x75,    0x6e,    0x75,    0x73,    0x65,    0x64,    0x5d,    0x5d,    
            0x20,    0x3d,    0x20,    0x75,    0x69,    0x6e,    0x74,    0x33,    0x28,    0x36,    0x34,    0x75,    0x2c,    0x20,    0x31,    0x75,    
            0x2c,    0x20,    0x31,    0x75,    0x29,    0x3b,    0x0a,    0x0a,    0x6b,    0x65,    0x72,    0x6e,    0x65,    0x6c,    0x20,    0x76,    
            0x6f,    0x69,    0x64,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x28,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x61,    
            0x6e,    0x74,    0x20,    0x73,    0x69,    0x6d,    0x5f,    0x70,    0x61,    0x72,    0x61,    0x6d,    0x73,    0x26,    0x20,    0x5f,    
            0x32,    0x31,    0x20,    0x5b,    0x5b,    0x62,    0x75,    0x66,    0x66,    0x65,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    
            0x2c,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x64,    0x65,    0x76,    0x69,    0x63,    0x65,    0x20,    0x63,    
            0x73,    0x5f,    0x73,    0x73,    0x62,    0x6f,    0x5f,    0x69,    0x6e,    0x26,    0x20,    0x5f,    0x33,    0x39,    0x20,    0x5b,    
            0x5b,    0x62,    0x75,    0x66,    0x66,    0x65,    0x72,    0x28,    0x38,    0x29,    0x5d,    0x5d,    0x2c,    0x20,    0x64,    0x65,    
            0x76,    0x69,    0x63,    0x65,    0x20,    0x63,    0x73,    0x5f,    0x73,    0x73,    0x62,    0x6f,    0x5f,    0x6f,    0x75,    0x74,    
            0x26,    0x20,    0x5f,    0x32,    0x31,    0x30,    0x20,    0x5b,    0x5b,    0x62,    0x75,    0x66,    0x66,    0x65,    0x72,    0x28,    
            0x39,    0x29,    0x5d,    0x5d,    0x2c,    0x20,    0x75,    0x69,    0x6e,    0x74,    0x33,    0x20,    0x67,    0x6c,    0x5f,    0x47,    
            0x6c,    0x6f,    0x62,    0x61,    0x6c,    0x49,    0x6e,    0x76,    0x6f,    0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    0x49,    
            0x44,    0x20,    0x5b,    0x5b,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x5f,    0x70,    0x6f,    0x73,    0x69,    0x74,    
            0x69,    0x6f,    0x6e,    0x5f,    0x69,    0x6e,    0x5f,    0x67,    0x72,    0x69,    0x64,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x67,    0x6c,    0x5f,    0x47,    0x6c,    0x6f,    0x62,    
            0x61,    0x6c,    0x49,    0x6e,    0x76,    0x6f,    0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    0x49,    0x44,    0x2e,    0x78,    
            0x20,    0x3e,    0x3d,    0x20,    0x75,    0x69,    0x6e,    0x74,    0x28,    0x5f,    0x32,    0x31,    0x2e,    0x6e,    0x75,    0x6d,    
            0x5f,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    0x73,    0x29,    0x29,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    
            0x6e,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x32,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    0x33,    0x39,    0x2e,    
            0x70,    0x72,    0x74,    0x5f,    0x69,    0x6e,    0x5b,    0x67,    0x6c,    0x5f,    0x47,    0x6c,    0x6f,    0x62,    0x61,    0x6c,    
            0x49,    0x6e,    0x76,    0x6f,    0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    0x49,    0x44,    0x2e,    0x78,    0x5d,    0x2e,    
            0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    
            0x76,    0x5f,    0x76,    0x65,    0x6c,    0x20,    0x3d,    0x20,    0x5f,    0x33,    0x39,    0x2e,    0x70,    0x72,    0x74,    0x5f,    
            0x69,    0x6e,    0x5b,    0x67,    0x6c,    0x5f,    0x47,    0x6c,    0x6f,    0x62,    0x61,    0x6c,    0x49,    0x6e,    0x76,    0x6f,    
            0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    0x49,    0x44,    0x2e,    0x78,    0x5d,    0x2e,    0x76,    0x65,    0x6c,    0x3b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x63,    0x5f,    0x6d,    0x61,    
            0x73,    0x73,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x30,    0x2e,    0x30,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x63,    0x5f,    0x76,    
            0x65,    0x6c,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x30,    0x2e,    0x30,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x63,    0x6f,    0x6c,    
            0x5f,    0x76,    0x65,    0x6c,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x30,    0x2e,    
            0x30,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x69,    0x6e,    0x74,    0x20,    0x63,    0x5f,    0x6d,    0x61,    
            0x73,    0x73,    0x5f,    0x63,    0x6f,    0x75,    0x6e,    0x74,    0x20,    0x3d,    0x20,    0x30,    0x3b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x69,    0x6e,    0x74,    0x20,    0x63,    0x5f,    0x76,    0x65,    0x6c,    0x5f,    0x63,    0x6f,    0x75,    0x6e,    
            0x74,    0x20,    0x3d,    0x20,    0x30,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6f,    0x72,    0x20,    0x28,    
            0x69,    0x6e,    0x74,    0x20,    0x69,    0x20,    0x3d,    0x20,    0x30,    0x3b,    0x20,    0x69,    0x20,    0x3c,    0x20,    0x5f,    
            0x32,    0x31,    0x2e,    0x6e,    0x75,    0x6d,    0x5f,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    0x73,    
            0x3b,    0x20,    0x69,    0x2b,    0x2b,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x75,    0x69,    0x6e,    0x74,    0x28,    0x69,    0x29,    
            0x20,    0x3d,    0x3d,    0x20,    0x67,    0x6c,    0x5f,    0x47,    0x6c,    0x6f,    0x62,    0x61,    0x6c,    0x49,    0x6e,    0x76,    
            0x6f,    0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    0x49,    0x44,    0x2e,    0x78,    0x29,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x63,    0x6f,    0x6e,    0x74,    0x69,    0x6e,    0x75,    0x65,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x20,    0x5f,    0x38,    0x37,    0x20,    0x3d,    0x20,    0x64,    0x69,    0x73,    0x74,    0x61,    
            0x6e,    0x63,    0x65,    0x28,    0x5f,    0x33,    0x39,    0x2e,    0x70,    0x72,    0x74,    0x5f,    0x69,    0x6e,    0x5b,    0x69,    
            0x5d,    0x2e,    0x70,    0x6f,    0x73,    0x2c,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x29,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x5f,    0x38,    0x37,    0x20,    0x3c,    
            0x20,    0x5f,    0x32,    0x31,    0x2e,    0x72,    0x75,    0x6c,    0x65,    0x31,    0x5f,    0x64,    0x69,    0x73,    0x74,    0x61,    
            0x6e,    0x63,    0x65,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x63,    0x5f,    0x6d,    0x61,    0x73,    
            0x73,    0x20,    0x2b,    0x3d,    0x20,    0x5f,    0x33,    0x39,    0x2e,    0x70,    0x72,    0x74,    0x5f,    0x69,    0x6e,    0x5b,    
            0x69,    0x5d,    0x2e,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x63,    0x5f,    0x6d,    0x61,    0x73,    0x73,    0x5f,    0x63,    0x6f,    0x75,    0x6e,    0x74,    
            0x2b,    0x2b,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x5f,    0x38,    0x37,    0x20,    0x3c,    0x20,    
            0x5f,    0x32,    0x31,    0x2e,    0x72,    0x75,    0x6c,    0x65,    0x32,    0x5f,    0x64,    0x69,    0x73,    0x74,    0x61,    0x6e,    
            0x63,    0x65,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x63,    0x6f,    0x6c,    0x5f,    0x76,    0x65,    
            0x6c,    0x20,    0x2d,    0x3d,    0x20,    0x28,    0x5f,    0x33,    0x39,    0x2e,    0x70,    0x72,    0x74,    0x5f,    0x69,    0x6e,    
            0x5b,    0x69,    0x5d,    0x2e,    0x70,    0x6f,    0x73,    0x20,    0x2d,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x5f,    0x38,    0x37,    0x20,    0x3c,    0x20,    0x5f,    0x32,    
            0x31,    0x2e,    0x72,    0x75,    0x6c,    0x65,    0x33,    0x5f,    0x64,    0x69,    0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    
            0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x63,    0x5f,    0x76,    0x65,    0x6c,    0x20,    0x2b,    0x3d,    
            0x20,    0x5f,    0x33,    0x39,    0x2e,    0x70,    0x72,    0x74,    0x5f,    0x69,    0x6e,    0x5b,    0x69,    0x5d,    0x2e,    0x76,    
            0x65,    0x6c,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x63,    0x5f,    0x76,    0x65,    0x6c,    0x5f,    0x63,    0x6f,    0x75,    0x6e,    0x74,    0x2b,    0x2b,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x63,    0x5f,    0x6d,    0x61,    0x73,    0x73,    0x5f,    0x63,    0x6f,    
            0x75,    0x6e,    0x74,    0x20,    0x3e,    0x20,    0x30,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x63,    0x5f,    0x6d,    0x61,    0x73,    0x73,    0x20,    0x3d,    0x20,    
            0x28,    0x63,    0x5f,    0x6d,    0x61,    0x73,    0x73,    0x20,    0x2f,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    
            0x28,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x28,    0x63,    0x5f,    0x6d,    0x61,    0x73,    0x73,    0x5f,    0x63,    0x6f,    
            0x75,    0x6e,    0x74,    0x29,    0x29,    0x29,    0x20,    0x2d,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x63,    0x5f,    
            0x76,    0x65,    0x6c,    0x5f,    0x63,    0x6f,    0x75,    0x6e,    0x74,    0x20,    0x3e,    0x20,    0x30,    0x29,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x63,    0x5f,    0x76,    
            0x65,    0x6c,    0x20,    0x2f,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x28,    0x63,    0x5f,    0x76,    0x65,    0x6c,    0x5f,    0x63,    0x6f,    0x75,    0x6e,    0x74,    0x29,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x32,    0x20,    0x5f,    0x31,    0x36,    0x33,    0x20,    0x3d,    0x20,    0x76,    0x5f,    0x76,    0x65,    0x6c,    0x3b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x5f,    0x31,    0x36,    0x34,    
            0x20,    0x3d,    0x20,    0x5f,    0x31,    0x36,    0x33,    0x20,    0x2b,    0x20,    0x28,    0x28,    0x28,    0x63,    0x5f,    0x6d,    
            0x61,    0x73,    0x73,    0x20,    0x2a,    0x20,    0x5f,    0x32,    0x31,    0x2e,    0x72,    0x75,    0x6c,    0x65,    0x31,    0x5f,    
            0x73,    0x63,    0x61,    0x6c,    0x65,    0x29,    0x20,    0x2b,    0x20,    0x28,    0x63,    0x6f,    0x6c,    0x5f,    0x76,    0x65,    
            0x6c,    0x20,    0x2a,    0x20,    0x5f,    0x32,    0x31,    0x2e,    0x72,    0x75,    0x6c,    0x65,    0x32,    0x5f,    0x73,    0x63,    
            0x61,    0x6c,    0x65,    0x29,    0x29,    0x20,    0x2b,    0x20,    0x28,    0x63,    0x5f,    0x76,    0x65,    0x6c,    0x20,    0x2a,    
            0x20,    0x5f,    0x32,    0x31,    0x2e,    0x72,    0x75,    0x6c,    0x65,    0x33,    0x5f,    0x73,    0x63,    0x61,    0x6c,    0x65,    
            0x29,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x5f,    
            0x31,    0x37,    0x31,    0x20,    0x3d,    0x20,    0x66,    0x61,    0x73,    0x74,    0x3a,    0x3a,    0x6e,    0x6f,    0x72,    0x6d,    
            0x61,    0x6c,    0x69,    0x7a,    0x65,    0x28,    0x5f,    0x31,    0x36,    0x34,    0x29,    0x20,    0x2a,    0x20,    0x66,    0x61,    
            0x73,    0x74,    0x3a,    0x3a,    0x63,    0x6c,    0x61,    0x6d,    0x70,    0x28,    0x6c,    0x65,    0x6e,    0x67,    0x74,    0x68,    
            0x28,    0x5f,    0x31,    0x36,    0x34,    0x29,    0x2c,    0x20,    0x30,    0x2e,    0x30,    0x2c,    0x20,    0x30,    0x2e,    0x31,    
            0x30,    0x30,    0x30,    0x30,    0x30,    0x30,    0x30,    0x31,    0x34,    0x39,    0x30,    0x31,    0x31,    0x36,    0x31,    0x31,    
            0x39,    0x33,    0x38,    0x34,    0x37,    0x36,    0x35,    0x36,    0x32,    0x35,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x76,    0x5f,    0x76,    0x65,    0x6c,    0x20,    0x3d,    0x20,    0x5f,    0x31,    0x37,    0x31,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x5f,    0x31,    0x37,    0x36,    0x20,    0x3d,    
            0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x32,    0x20,    0x5f,    0x31,    0x37,    0x37,    0x20,    0x3d,    0x20,    0x5f,    0x31,    0x37,    0x36,    0x20,    0x2b,    
            0x20,    0x28,    0x5f,    0x31,    0x37,    0x31,    0x20,    0x2a,    0x20,    0x5f,    0x32,    0x31,    0x2e,    0x64,    0x74,    0x29,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    0x31,    
            0x37,    0x37,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x5f,    0x31,    0x37,    0x37,    
            0x2e,    0x78,    0x20,    0x3c,    0x20,    0x28,    0x2d,    0x31,    0x2e,    0x30,    0x29,    0x29,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    
            0x32,    0x20,    0x5f,    0x32,    0x32,    0x30,    0x20,    0x3d,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x5f,    0x32,    0x32,    0x30,    0x2e,    0x78,    0x20,    0x3d,    
            0x20,    0x31,    0x2e,    0x30,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x76,    0x5f,    
            0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    0x32,    0x32,    0x30,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x65,    0x6c,    0x73,    0x65,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x76,    0x5f,    0x70,    
            0x6f,    0x73,    0x2e,    0x78,    0x20,    0x3e,    0x20,    0x31,    0x2e,    0x30,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x5f,    0x32,    0x32,    0x33,    0x20,    0x3d,    0x20,    
            0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x5f,    0x32,    0x32,    0x33,    0x2e,    0x78,    0x20,    0x3d,    0x20,    0x2d,    0x31,    0x2e,    0x30,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x76,    0x5f,    
            0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    0x32,    0x32,    0x33,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x69,    0x66,    0x20,    0x28,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x79,    0x20,    0x3c,    0x20,    0x28,    0x2d,    
            0x31,    0x2e,    0x30,    0x29,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x5f,    0x32,    0x32,    0x36,    0x20,    
            0x3d,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x5f,    0x32,    0x32,    0x36,    0x2e,    0x79,    0x20,    0x3d,    0x20,    0x31,    0x2e,    0x30,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    
            0x32,    0x32,    0x36,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x65,    
            0x6c,    0x73,    0x65,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x69,    0x66,    0x20,    0x28,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x2e,    0x79,    0x20,    0x3e,    0x20,    
            0x31,    0x2e,    0x30,    0x29,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    
            0x32,    0x20,    0x5f,    0x32,    0x32,    0x39,    0x20,    0x3d,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x5f,    0x32,    0x32,    0x39,    
            0x2e,    0x79,    0x20,    0x3d,    0x20,    0x2d,    0x31,    0x2e,    0x30,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x20,    0x3d,    0x20,    0x5f,    
            0x32,    0x32,    0x39,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x5f,    0x32,    0x31,    0x30,    0x2e,    0x70,    0x72,    
            0x74,    0x5f,    0x6f,    0x75,    0x74,    0x5b,    0x67,    0x6c,    0x5f,    0x47,    0x6c,    0x6f,    0x62,    0x61,    0x6c,    0x49,    
            0x6e,    0x76,    0x6f,    0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    0x49,    0x44,    0x2e,    0x78,    0x5d,    0x2e,    0x70,    
            0x6f,    0x73,    0x20,    0x3d,    0x20,    0x76,    0x5f,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x5f,    0x32,    0x31,    0x30,    0x2e,    0x70,    0x72,    0x74,    0x5f,    0x6f,    0x75,    0x74,    0x5b,    0x67,    0x6c,    0x5f,    
            0x47,    0x6c,    0x6f,    0x62,    0x61,    0x6c,    0x49,    0x6e,    0x76,    0x6f,    0x63,    0x61,    0x74,    0x69,    0x6f,    0x6e,    
            0x49,    0x44,    0x2e,    0x78,    0x5d,    0x2e,    0x76,    0x65,    0x6c,    0x20,    0x3d,    0x20,    0x76,    0x5f,    0x76,    0x65,    
            0x6c,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    /*
        #pragma clang diagnostic ignored "-Wmissing-prototypes"
        #pragma clang diagnostic ignored "-Wmissing-braces"

        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        template<typename T, size_t Num>
        struct spvUnsafeArray
        {
            T elements[Num ? Num : 1];

            thread T& operator [] (size_t pos) thread
            {
                return elements[pos];
            }
            constexpr const thread T& operator [] (size_t pos) const thread
            {
                return elements[pos];
            }

            device T& operator [] (size_t pos) device
            {
                return elements[pos];
            }
            constexpr const device T& operator [] (size_t pos) const device
            {
                return elements[pos];
            }

            constexpr const constant T& operator [] (size_t pos) const constant
            {
                return elements[pos];
            }

            threadgroup T& operator [] (size_t pos) threadgroup
            {
                return elements[pos];
            }
            constexpr const threadgroup T& operator [] (size_t pos) const threadgroup
            {
                return elements[pos];
            }
        };

        struct particle
        {
            float2 pos;
            float2 vel;
        };

        struct vs_ssbo
        {
            particle prt[1];
        };

        constant spvUnsafeArray<float2, 3> _21 = spvUnsafeArray<float2, 3>({ float2(-0.00999999977648258209228515625, -0.0199999995529651641845703125), float2(0.00999999977648258209228515625, -0.0199999995529651641845703125), float2(0.0, 0.0199999995529651641845703125) });

        struct main0_out
        {
            float4 color [[user(locn0)]];
            float4 gl_Position [[position]];
        };

        vertex main0_out main0(const device vs_ssbo& _35 [[buffer(8)]], uint gl_VertexIndex [[vertex_id]], uint gl_InstanceIndex [[instance_id]])
        {
            main0_out out = {};
            float _55 = precise::atan2(_35.prt[int(gl_InstanceIndex)].vel.x, _35.prt[int(gl_InstanceIndex)].vel.y);
            float _56 = -_55;
            float _61 = cos(_56);
            float _66 = sin(_56);
            float _68 = (_21[int(gl_VertexIndex)].x * _61) - (_21[int(gl_VertexIndex)].y * _66);
            out.gl_Position = float4(float2(_68, (_21[int(gl_VertexIndex)].x * _66) + (_21[int(gl_VertexIndex)].y * _61)) + _35.prt[int(gl_InstanceIndex)].pos, 0.0, 1.0);
            out.color = float4((1.0 - sin(1.0 - _55)) - _35.prt[int(gl_InstanceIndex)].vel.y, ((_68 * 100.0) - _35.prt[int(gl_InstanceIndex)].vel.y) + 0.100000001490116119384765625, _35.prt[int(gl_InstanceIndex)].vel.x + cos(0.5 - _55), 1.0);
            return out;
        }

    */
    static readonly byte[] vs_source_metal_macos = {
            0x23,    0x70,    0x72,    0x61,    0x67,    0x6d,    0x61,    0x20,    0x63,    0x6c,    0x61,    0x6e,    0x67,    0x20,    0x64,    0x69,    
            0x61,    0x67,    0x6e,    0x6f,    0x73,    0x74,    0x69,    0x63,    0x20,    0x69,    0x67,    0x6e,    0x6f,    0x72,    0x65,    0x64,    
            0x20,    0x22,    0x2d,    0x57,    0x6d,    0x69,    0x73,    0x73,    0x69,    0x6e,    0x67,    0x2d,    0x70,    0x72,    0x6f,    0x74,    
            0x6f,    0x74,    0x79,    0x70,    0x65,    0x73,    0x22,    0x0a,    0x23,    0x70,    0x72,    0x61,    0x67,    0x6d,    0x61,    0x20,    
            0x63,    0x6c,    0x61,    0x6e,    0x67,    0x20,    0x64,    0x69,    0x61,    0x67,    0x6e,    0x6f,    0x73,    0x74,    0x69,    0x63,    
            0x20,    0x69,    0x67,    0x6e,    0x6f,    0x72,    0x65,    0x64,    0x20,    0x22,    0x2d,    0x57,    0x6d,    0x69,    0x73,    0x73,    
            0x69,    0x6e,    0x67,    0x2d,    0x62,    0x72,    0x61,    0x63,    0x65,    0x73,    0x22,    0x0a,    0x0a,    0x23,    0x69,    0x6e,    
            0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    0x73,    0x74,    0x64,    
            0x6c,    0x69,    0x62,    0x3e,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x73,    
            0x69,    0x6d,    0x64,    0x2f,    0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    0x75,    0x73,    0x69,    
            0x6e,    0x67,    0x20,    0x6e,    0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    0x6d,    0x65,    0x74,    
            0x61,    0x6c,    0x3b,    0x0a,    0x0a,    0x74,    0x65,    0x6d,    0x70,    0x6c,    0x61,    0x74,    0x65,    0x3c,    0x74,    0x79,    
            0x70,    0x65,    0x6e,    0x61,    0x6d,    0x65,    0x20,    0x54,    0x2c,    0x20,    0x73,    0x69,    0x7a,    0x65,    0x5f,    0x74,    
            0x20,    0x4e,    0x75,    0x6d,    0x3e,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x73,    0x70,    0x76,    
            0x55,    0x6e,    0x73,    0x61,    0x66,    0x65,    0x41,    0x72,    0x72,    0x61,    0x79,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x54,    0x20,    0x65,    0x6c,    0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x4e,    0x75,    0x6d,    
            0x20,    0x3f,    0x20,    0x4e,    0x75,    0x6d,    0x20,    0x3a,    0x20,    0x31,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x20,    0x54,    0x26,    0x20,    
            0x6f,    0x70,    0x65,    0x72,    0x61,    0x74,    0x6f,    0x72,    0x20,    0x5b,    0x5d,    0x20,    0x28,    0x73,    0x69,    0x7a,    
            0x65,    0x5f,    0x74,    0x20,    0x70,    0x6f,    0x73,    0x29,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    
            0x74,    0x75,    0x72,    0x6e,    0x20,    0x65,    0x6c,    0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    
            0x73,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x63,    0x6f,    
            0x6e,    0x73,    0x74,    0x65,    0x78,    0x70,    0x72,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x74,    0x68,    
            0x72,    0x65,    0x61,    0x64,    0x20,    0x54,    0x26,    0x20,    0x6f,    0x70,    0x65,    0x72,    0x61,    0x74,    0x6f,    0x72,    
            0x20,    0x5b,    0x5d,    0x20,    0x28,    0x73,    0x69,    0x7a,    0x65,    0x5f,    0x74,    0x20,    0x70,    0x6f,    0x73,    0x29,    
            0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x0a,    0x20,    0x20,    
            0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    
            0x72,    0x6e,    0x20,    0x65,    0x6c,    0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    0x73,    0x5d,    
            0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x64,    0x65,    0x76,    0x69,    0x63,    0x65,    0x20,    0x54,    0x26,    0x20,    0x6f,    0x70,    0x65,    0x72,    0x61,    
            0x74,    0x6f,    0x72,    0x20,    0x5b,    0x5d,    0x20,    0x28,    0x73,    0x69,    0x7a,    0x65,    0x5f,    0x74,    0x20,    0x70,    
            0x6f,    0x73,    0x29,    0x20,    0x64,    0x65,    0x76,    0x69,    0x63,    0x65,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    
            0x65,    0x6c,    0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    0x73,    0x5d,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x65,    0x78,    
            0x70,    0x72,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x64,    0x65,    0x76,    0x69,    0x63,    0x65,    0x20,    
            0x54,    0x26,    0x20,    0x6f,    0x70,    0x65,    0x72,    0x61,    0x74,    0x6f,    0x72,    0x20,    0x5b,    0x5d,    0x20,    0x28,    
            0x73,    0x69,    0x7a,    0x65,    0x5f,    0x74,    0x20,    0x70,    0x6f,    0x73,    0x29,    0x20,    0x63,    0x6f,    0x6e,    0x73,    
            0x74,    0x20,    0x64,    0x65,    0x76,    0x69,    0x63,    0x65,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x65,    0x6c,    
            0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    0x73,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x63,    0x6f,    0x6e,    0x73,    
            0x74,    0x65,    0x78,    0x70,    0x72,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x63,    0x6f,    0x6e,    0x73,    
            0x74,    0x61,    0x6e,    0x74,    0x20,    0x54,    0x26,    0x20,    0x6f,    0x70,    0x65,    0x72,    0x61,    0x74,    0x6f,    0x72,    
            0x20,    0x5b,    0x5d,    0x20,    0x28,    0x73,    0x69,    0x7a,    0x65,    0x5f,    0x74,    0x20,    0x70,    0x6f,    0x73,    0x29,    
            0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x74,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    
            0x74,    0x75,    0x72,    0x6e,    0x20,    0x65,    0x6c,    0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    
            0x73,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x67,    0x72,    0x6f,    0x75,    0x70,    0x20,    0x54,    
            0x26,    0x20,    0x6f,    0x70,    0x65,    0x72,    0x61,    0x74,    0x6f,    0x72,    0x20,    0x5b,    0x5d,    0x20,    0x28,    0x73,    
            0x69,    0x7a,    0x65,    0x5f,    0x74,    0x20,    0x70,    0x6f,    0x73,    0x29,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    
            0x64,    0x67,    0x72,    0x6f,    0x75,    0x70,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    0x6e,    0x20,    0x65,    0x6c,    0x65,    0x6d,    
            0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    0x73,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    
            0x0a,    0x20,    0x20,    0x20,    0x20,    0x63,    0x6f,    0x6e,    0x73,    0x74,    0x65,    0x78,    0x70,    0x72,    0x20,    0x63,    
            0x6f,    0x6e,    0x73,    0x74,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x67,    0x72,    0x6f,    0x75,    0x70,    
            0x20,    0x54,    0x26,    0x20,    0x6f,    0x70,    0x65,    0x72,    0x61,    0x74,    0x6f,    0x72,    0x20,    0x5b,    0x5d,    0x20,    
            0x28,    0x73,    0x69,    0x7a,    0x65,    0x5f,    0x74,    0x20,    0x70,    0x6f,    0x73,    0x29,    0x20,    0x63,    0x6f,    0x6e,    
            0x73,    0x74,    0x20,    0x74,    0x68,    0x72,    0x65,    0x61,    0x64,    0x67,    0x72,    0x6f,    0x75,    0x70,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    
            0x75,    0x72,    0x6e,    0x20,    0x65,    0x6c,    0x65,    0x6d,    0x65,    0x6e,    0x74,    0x73,    0x5b,    0x70,    0x6f,    0x73,    
            0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x7d,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    
            0x75,    0x63,    0x74,    0x20,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    0x0a,    0x7b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x70,    0x6f,    0x73,    0x3b,    0x0a,    0x20,    
            0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x20,    0x76,    0x65,    0x6c,    0x3b,    0x0a,    0x7d,    
            0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x76,    0x73,    0x5f,    0x73,    0x73,    0x62,    
            0x6f,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x70,    0x61,    0x72,    0x74,    0x69,    0x63,    0x6c,    0x65,    
            0x20,    0x70,    0x72,    0x74,    0x5b,    0x31,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x63,    0x6f,    0x6e,    
            0x73,    0x74,    0x61,    0x6e,    0x74,    0x20,    0x73,    0x70,    0x76,    0x55,    0x6e,    0x73,    0x61,    0x66,    0x65,    0x41,    
            0x72,    0x72,    0x61,    0x79,    0x3c,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x2c,    0x20,    0x33,    0x3e,    0x20,    
            0x5f,    0x32,    0x31,    0x20,    0x3d,    0x20,    0x73,    0x70,    0x76,    0x55,    0x6e,    0x73,    0x61,    0x66,    0x65,    0x41,    
            0x72,    0x72,    0x61,    0x79,    0x3c,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x2c,    0x20,    0x33,    0x3e,    0x28,    
            0x7b,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x2d,    0x30,    0x2e,    0x30,    0x30,    0x39,    0x39,    
            0x39,    0x39,    0x39,    0x39,    0x39,    0x37,    0x37,    0x36,    0x34,    0x38,    0x32,    0x35,    0x38,    0x32,    0x30,    0x39,    
            0x32,    0x32,    0x38,    0x35,    0x31,    0x35,    0x36,    0x32,    0x35,    0x2c,    0x20,    0x2d,    0x30,    0x2e,    0x30,    0x31,    
            0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x35,    0x35,    0x32,    0x39,    0x36,    0x35,    0x31,    0x36,    0x34,    
            0x31,    0x38,    0x34,    0x35,    0x37,    0x30,    0x33,    0x31,    0x32,    0x35,    0x29,    0x2c,    0x20,    0x66,    0x6c,    0x6f,    
            0x61,    0x74,    0x32,    0x28,    0x30,    0x2e,    0x30,    0x30,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x37,    
            0x37,    0x36,    0x34,    0x38,    0x32,    0x35,    0x38,    0x32,    0x30,    0x39,    0x32,    0x32,    0x38,    0x35,    0x31,    0x35,    
            0x36,    0x32,    0x35,    0x2c,    0x20,    0x2d,    0x30,    0x2e,    0x30,    0x31,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    
            0x39,    0x35,    0x35,    0x32,    0x39,    0x36,    0x35,    0x31,    0x36,    0x34,    0x31,    0x38,    0x34,    0x35,    0x37,    0x30,    
            0x33,    0x31,    0x32,    0x35,    0x29,    0x2c,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x30,    0x2e,    
            0x30,    0x2c,    0x20,    0x30,    0x2e,    0x30,    0x31,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x39,    0x35,    0x35,    
            0x32,    0x39,    0x36,    0x35,    0x31,    0x36,    0x34,    0x31,    0x38,    0x34,    0x35,    0x37,    0x30,    0x33,    0x31,    0x32,    
            0x35,    0x29,    0x20,    0x7d,    0x29,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x5b,    0x5b,    0x75,    0x73,    
            0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    
            0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    0x69,    0x74,    
            0x69,    0x6f,    0x6e,    0x20,    0x5b,    0x5b,    0x70,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x5d,    0x5d,    
            0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x76,    0x65,    0x72,    0x74,    0x65,    0x78,    0x20,    0x6d,    0x61,    0x69,    
            0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x28,    0x63,    0x6f,    0x6e,    
            0x73,    0x74,    0x20,    0x64,    0x65,    0x76,    0x69,    0x63,    0x65,    0x20,    0x76,    0x73,    0x5f,    0x73,    0x73,    0x62,    
            0x6f,    0x26,    0x20,    0x5f,    0x33,    0x35,    0x20,    0x5b,    0x5b,    0x62,    0x75,    0x66,    0x66,    0x65,    0x72,    0x28,    
            0x38,    0x29,    0x5d,    0x5d,    0x2c,    0x20,    0x75,    0x69,    0x6e,    0x74,    0x20,    0x67,    0x6c,    0x5f,    0x56,    0x65,    
            0x72,    0x74,    0x65,    0x78,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x20,    0x5b,    0x5b,    0x76,    0x65,    0x72,    0x74,    
            0x65,    0x78,    0x5f,    0x69,    0x64,    0x5d,    0x5d,    0x2c,    0x20,    0x75,    0x69,    0x6e,    0x74,    0x20,    0x67,    0x6c,    
            0x5f,    0x49,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x20,    0x5b,    
            0x5b,    0x69,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    0x5f,    0x69,    0x64,    0x5d,    0x5d,    0x29,    0x0a,    
            0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    
            0x6f,    0x75,    0x74,    0x20,    0x3d,    0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    
            0x6f,    0x61,    0x74,    0x20,    0x5f,    0x35,    0x35,    0x20,    0x3d,    0x20,    0x70,    0x72,    0x65,    0x63,    0x69,    0x73,    
            0x65,    0x3a,    0x3a,    0x61,    0x74,    0x61,    0x6e,    0x32,    0x28,    0x5f,    0x33,    0x35,    0x2e,    0x70,    0x72,    0x74,    
            0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x49,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    
            0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x76,    0x65,    0x6c,    0x2e,    0x78,    0x2c,    0x20,    0x5f,    
            0x33,    0x35,    0x2e,    0x70,    0x72,    0x74,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x49,    0x6e,    
            0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x76,    0x65,    
            0x6c,    0x2e,    0x79,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    
            0x5f,    0x35,    0x36,    0x20,    0x3d,    0x20,    0x2d,    0x5f,    0x35,    0x35,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x5f,    0x36,    0x31,    0x20,    0x3d,    0x20,    0x63,    0x6f,    0x73,    0x28,    
            0x5f,    0x35,    0x36,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    
            0x5f,    0x36,    0x36,    0x20,    0x3d,    0x20,    0x73,    0x69,    0x6e,    0x28,    0x5f,    0x35,    0x36,    0x29,    0x3b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x20,    0x5f,    0x36,    0x38,    0x20,    0x3d,    0x20,    
            0x28,    0x5f,    0x32,    0x31,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x56,    0x65,    0x72,    0x74,    
            0x65,    0x78,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x78,    0x20,    0x2a,    0x20,    0x5f,    0x36,    
            0x31,    0x29,    0x20,    0x2d,    0x20,    0x28,    0x5f,    0x32,    0x31,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    
            0x5f,    0x56,    0x65,    0x72,    0x74,    0x65,    0x78,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x79,    
            0x20,    0x2a,    0x20,    0x5f,    0x36,    0x36,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    
            0x2e,    0x67,    0x6c,    0x5f,    0x50,    0x6f,    0x73,    0x69,    0x74,    0x69,    0x6f,    0x6e,    0x20,    0x3d,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x34,    0x28,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x32,    0x28,    0x5f,    0x36,    0x38,    
            0x2c,    0x20,    0x28,    0x5f,    0x32,    0x31,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x56,    0x65,    
            0x72,    0x74,    0x65,    0x78,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x78,    0x20,    0x2a,    0x20,    
            0x5f,    0x36,    0x36,    0x29,    0x20,    0x2b,    0x20,    0x28,    0x5f,    0x32,    0x31,    0x5b,    0x69,    0x6e,    0x74,    0x28,    
            0x67,    0x6c,    0x5f,    0x56,    0x65,    0x72,    0x74,    0x65,    0x78,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    
            0x2e,    0x79,    0x20,    0x2a,    0x20,    0x5f,    0x36,    0x31,    0x29,    0x29,    0x20,    0x2b,    0x20,    0x5f,    0x33,    0x35,    
            0x2e,    0x70,    0x72,    0x74,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x49,    0x6e,    0x73,    0x74,    
            0x61,    0x6e,    0x63,    0x65,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x70,    0x6f,    0x73,    0x2c,    
            0x20,    0x30,    0x2e,    0x30,    0x2c,    0x20,    0x31,    0x2e,    0x30,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    
            0x6f,    0x75,    0x74,    0x2e,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x66,    0x6c,    0x6f,    0x61,    
            0x74,    0x34,    0x28,    0x28,    0x31,    0x2e,    0x30,    0x20,    0x2d,    0x20,    0x73,    0x69,    0x6e,    0x28,    0x31,    0x2e,    
            0x30,    0x20,    0x2d,    0x20,    0x5f,    0x35,    0x35,    0x29,    0x29,    0x20,    0x2d,    0x20,    0x5f,    0x33,    0x35,    0x2e,    
            0x70,    0x72,    0x74,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x49,    0x6e,    0x73,    0x74,    0x61,    
            0x6e,    0x63,    0x65,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x76,    0x65,    0x6c,    0x2e,    0x79,    
            0x2c,    0x20,    0x28,    0x28,    0x5f,    0x36,    0x38,    0x20,    0x2a,    0x20,    0x31,    0x30,    0x30,    0x2e,    0x30,    0x29,    
            0x20,    0x2d,    0x20,    0x5f,    0x33,    0x35,    0x2e,    0x70,    0x72,    0x74,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    
            0x6c,    0x5f,    0x49,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x63,    0x65,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    
            0x5d,    0x2e,    0x76,    0x65,    0x6c,    0x2e,    0x79,    0x29,    0x20,    0x2b,    0x20,    0x30,    0x2e,    0x31,    0x30,    0x30,    
            0x30,    0x30,    0x30,    0x30,    0x30,    0x31,    0x34,    0x39,    0x30,    0x31,    0x31,    0x36,    0x31,    0x31,    0x39,    0x33,    
            0x38,    0x34,    0x37,    0x36,    0x35,    0x36,    0x32,    0x35,    0x2c,    0x20,    0x5f,    0x33,    0x35,    0x2e,    0x70,    0x72,    
            0x74,    0x5b,    0x69,    0x6e,    0x74,    0x28,    0x67,    0x6c,    0x5f,    0x49,    0x6e,    0x73,    0x74,    0x61,    0x6e,    0x63,    
            0x65,    0x49,    0x6e,    0x64,    0x65,    0x78,    0x29,    0x5d,    0x2e,    0x76,    0x65,    0x6c,    0x2e,    0x78,    0x20,    0x2b,    
            0x20,    0x63,    0x6f,    0x73,    0x28,    0x30,    0x2e,    0x35,    0x20,    0x2d,    0x20,    0x5f,    0x35,    0x35,    0x29,    0x2c,    
            0x20,    0x31,    0x2e,    0x30,    0x29,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    
            0x6e,    0x20,    0x6f,    0x75,    0x74,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    /*
        #include <metal_stdlib>
        #include <simd/simd.h>

        using namespace metal;

        struct main0_out
        {
            float4 frag_color [[color(0)]];
        };

        struct main0_in
        {
            float4 color [[user(locn0)]];
        };

        fragment main0_out main0(main0_in in [[stage_in]])
        {
            main0_out out = {};
            out.frag_color = in.color;
            return out;
        }

    */
    static readonly byte[] fs_source_metal_macos = {
            0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    0x20,    0x3c,    0x6d,    0x65,    0x74,    0x61,    0x6c,    0x5f,    
            0x73,    0x74,    0x64,    0x6c,    0x69,    0x62,    0x3e,    0x0a,    0x23,    0x69,    0x6e,    0x63,    0x6c,    0x75,    0x64,    0x65,    
            0x20,    0x3c,    0x73,    0x69,    0x6d,    0x64,    0x2f,    0x73,    0x69,    0x6d,    0x64,    0x2e,    0x68,    0x3e,    0x0a,    0x0a,    
            0x75,    0x73,    0x69,    0x6e,    0x67,    0x20,    0x6e,    0x61,    0x6d,    0x65,    0x73,    0x70,    0x61,    0x63,    0x65,    0x20,    
            0x6d,    0x65,    0x74,    0x61,    0x6c,    0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    
            0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    
            0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    0x66,    0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    
            0x20,    0x5b,    0x5b,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x28,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    
            0x3b,    0x0a,    0x0a,    0x73,    0x74,    0x72,    0x75,    0x63,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    
            0x69,    0x6e,    0x0a,    0x7b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x66,    0x6c,    0x6f,    0x61,    0x74,    0x34,    0x20,    
            0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x5b,    0x5b,    0x75,    0x73,    0x65,    0x72,    0x28,    0x6c,    0x6f,    0x63,    
            0x6e,    0x30,    0x29,    0x5d,    0x5d,    0x3b,    0x0a,    0x7d,    0x3b,    0x0a,    0x0a,    0x66,    0x72,    0x61,    0x67,    0x6d,    
            0x65,    0x6e,    0x74,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6d,    0x61,    
            0x69,    0x6e,    0x30,    0x28,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x69,    0x6e,    0x20,    0x69,    0x6e,    0x20,    
            0x5b,    0x5b,    0x73,    0x74,    0x61,    0x67,    0x65,    0x5f,    0x69,    0x6e,    0x5d,    0x5d,    0x29,    0x0a,    0x7b,    0x0a,    
            0x20,    0x20,    0x20,    0x20,    0x6d,    0x61,    0x69,    0x6e,    0x30,    0x5f,    0x6f,    0x75,    0x74,    0x20,    0x6f,    0x75,    
            0x74,    0x20,    0x3d,    0x20,    0x7b,    0x7d,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x6f,    0x75,    0x74,    0x2e,    
            0x66,    0x72,    0x61,    0x67,    0x5f,    0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x20,    0x3d,    0x20,    0x69,    0x6e,    0x2e,    
            0x63,    0x6f,    0x6c,    0x6f,    0x72,    0x3b,    0x0a,    0x20,    0x20,    0x20,    0x20,    0x72,    0x65,    0x74,    0x75,    0x72,    
            0x6e,    0x20,    0x6f,    0x75,    0x74,    0x3b,    0x0a,    0x7d,    0x0a,    0x0a,    0x00,    
};
    public static unsafe sg_shader_desc compute_shader_desc(sg_backend backend) {
        if (backend == SG_BACKEND_METAL_MACOS) {
            sg_shader_desc desc = default(sg_shader_desc);
            desc.compute_func.source = System.Text.Encoding.UTF8.GetString(cs_source_metal_macos);
            desc.compute_func.entry = "main0";
            desc.mtl_threads_per_threadgroup.x = 64;
            desc.mtl_threads_per_threadgroup.y = 1;
            desc.mtl_threads_per_threadgroup.z = 1;
            desc.uniform_blocks[0].stage = SG_SHADERSTAGE_COMPUTE;
            desc.uniform_blocks[0].layout = SG_UNIFORMLAYOUT_STD140;
            desc.uniform_blocks[0].size = 32;
            desc.uniform_blocks[0].msl_buffer_n = 0;
            desc.views[0].storage_buffer.stage = SG_SHADERSTAGE_COMPUTE;
            desc.views[0].storage_buffer._readonly = true;
            desc.views[0].storage_buffer.msl_buffer_n = 8;
            desc.views[1].storage_buffer.stage = SG_SHADERSTAGE_COMPUTE;
            desc.views[1].storage_buffer._readonly = false;
            desc.views[1].storage_buffer.msl_buffer_n = 9;
            desc.label = "compute_shader";
            return desc;
        }
        return default(sg_shader_desc);
    }
    public static unsafe sg_shader_desc display_shader_desc(sg_backend backend) {
        if (backend == SG_BACKEND_METAL_MACOS) {
            sg_shader_desc desc = default(sg_shader_desc);
            desc.vertex_func.source = System.Text.Encoding.UTF8.GetString(vs_source_metal_macos);
            desc.vertex_func.entry = "main0";
            desc.fragment_func.source = System.Text.Encoding.UTF8.GetString(fs_source_metal_macos);
            desc.fragment_func.entry = "main0";
            desc.views[0].storage_buffer.stage = SG_SHADERSTAGE_VERTEX;
            desc.views[0].storage_buffer._readonly = true;
            desc.views[0].storage_buffer.msl_buffer_n = 8;
            desc.label = "display_shader";
            return desc;
        }
        return default(sg_shader_desc);
    }
}

} // namescape 

